<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DVB Codec: section.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>section.hpp</h1><a href="section_8hpp.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00007 <span class="preprocessor">#ifndef SECTION_HPP_INCLUDED</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#define SECTION_HPP_INCLUDED</span>
00009 <span class="preprocessor"></span>
00010 <span class="preprocessor">#include &lt;boost/spirit/core.hpp&gt;</span>
00011 <span class="preprocessor">#include &lt;boost/spirit/actor/assign_actor.hpp&gt;</span>
00012 
00013 
<a name="l00017"></a><a class="code" href="namespacedvbcodec.html">00017</a> <span class="keyword">namespace </span>dvbcodec
00018 {
00019 <span class="keyword">using</span> <span class="keyword">namespace </span>boost::spirit;
00020 
00031 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Actions&gt;
<a name="l00032"></a><a class="code" href="structdvbcodec_1_1Section.html">00032</a> <span class="keyword">struct </span><a class="code" href="structdvbcodec_1_1Section.html">Section</a> :
00033     <span class="keyword">public</span> grammar&lt;Section&lt;Actions&gt; &gt;
00034 {
<a name="l00039"></a><a class="code" href="structdvbcodec_1_1Section.html#a0">00039</a>     <a class="code" href="structdvbcodec_1_1Section.html">Section</a>(Actions &amp; actions)
00040         : <a class="code" href="structdvbcodec_1_1Section.html#o0">actions_</a>(actions)
00041     {
00042     }
00043 
00051     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Scanner&gt;
<a name="l00052"></a><a class="code" href="structdvbcodec_1_1Section_1_1definition.html">00052</a>     <span class="keyword">struct </span><a class="code" href="structdvbcodec_1_1Section_1_1definition.html">definition</a>
00053     {
<a name="l00058"></a><a class="code" href="structdvbcodec_1_1Section_1_1definition.html#a0">00058</a>         <a class="code" href="structdvbcodec_1_1Section_1_1definition.html">definition</a>(<a class="code" href="structdvbcodec_1_1Section.html">Section</a> <span class="keyword">const</span> &amp; <span class="keyword">self</span>)
00059         {
00060             Actions &amp; actions = <span class="keyword">self</span>.actions_;
00061             
00062             <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o0">section_</a>
00063                 =   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o2">section_ref_</a>          [actions.section_name_]
00064                     &gt;&gt; <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o3">block_</a>
00065                 ;
00066 
00067             section_ref_
00068                 =   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o5">text_id_</a>              [assign_a(actions.section_id_)]
00069                     &gt;&gt;   <span class="charliteral">'('</span>
00070                     &gt;&gt;   <span class="charliteral">')'</span>
00071                 ;
00072         
00073             text_id_
00074                 =   lexeme_d[
00075                         alpha_p
00076                         &gt;&gt; * (alnum_p | <span class="charliteral">'_'</span>)
00077                     ]
00078                 ;
00079 
00080             <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o6">quoted_binary_</a>
00081                 =   lexeme_d[    
00082                         <span class="charliteral">'\''</span>
00083                         &gt;&gt;  bin_p
00084                         &gt;&gt; <span class="charliteral">'\''</span>
00085                     ]
00086                 ;
00087             
00088             <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o8">item_</a>
00089                =   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o4">field_</a>
00090                    |   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o11">loop_</a> 
00091                    |   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o10">conditional_</a>
00092                    |   section_ref_       [actions.section_ref_]
00093                ;
00094             
00095             block_
00096                 =   ch_p(<span class="charliteral">'{'</span>)             [actions.enter_block_]
00097                     &gt;&gt; * <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o8">item_</a>
00098                     &gt;&gt; ch_p(<span class="charliteral">'}'</span>)          [actions.leave_block_]
00099                 ;
00100             
00101             <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o4">field_</a>
00102                 =   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o7">identifier_</a>           [assign_a(actions.field_name_)]
00103                     &gt;&gt;   uint_p           [actions.field_]       
00104                 ;
00105 
00106             identifier_
00107                 =   text_id_
00108                     |   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o6">quoted_binary_</a>
00109                 ;
00110 
00111             <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o10">conditional_</a>
00112                 =   str_p(<span class="stringliteral">"if"</span>)
00113                     &gt;&gt; <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o9">condition_</a>         [actions.if_]
00114                     &gt;&gt; block_
00115                     &gt;&gt;  ! (str_p(<span class="stringliteral">"else"</span>)  [actions.else_]
00116                            &gt;&gt;   block_)
00117                 ;
00118 
00119             condition_
00120                 =   <span class="charliteral">'('</span>
00121                      &gt;&gt; text_id_          [assign_a(actions.if_item_)]
00122                      &gt;&gt; str_p(<span class="stringliteral">"=="</span>)       [assign_a(actions.if_op_)]
00123                      &gt;&gt; <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o6">quoted_binary_</a>    [assign_a(actions.if_value_)]  
00124                      &gt;&gt; 
00125                      <span class="charliteral">')'</span>
00126                 ;
00127 
00128             <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o11">loop_</a>
00129                 =   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o12">loop_control_</a>         [actions.loop_control_]
00130                     &gt;&gt; ch_p(<span class="charliteral">'{'</span>)          [actions.loop_start_]
00131                     &gt;&gt; * <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o8">item_</a>
00132                     &gt;&gt; ch_p(<span class="charliteral">'}'</span>)          [actions.loop_end_]
00133                 ;
00134 
00135             loop_control_
00136                 =   str_p(<span class="stringliteral">"for"</span>)
00137                     &gt;&gt;   <span class="charliteral">'('</span>
00138                     &gt;&gt;   * (anychar_p - <span class="charliteral">')'</span>)
00139                     &gt;&gt;   <span class="charliteral">')'</span>
00140                 ;
00141 
00142         }
00143         
00144         rule&lt;Scanner&gt;
<a name="l00145"></a><a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o5">00145</a>                   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o0">section_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o1">section_name_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o2">section_ref_</a>,
00146                   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o3">block_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o4">field_</a>,
00147                   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o5">text_id_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o6">quoted_binary_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o7">identifier_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o8">item_</a>,
00148                   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o9">condition_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o10">conditional_</a>,
00149                   <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o11">loop_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o12">loop_control_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o13">loop_start_</a>, <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o14">loop_end_</a>;
00150 
00155         rule&lt;Scanner&gt; <span class="keyword">const</span> &amp;
<a name="l00156"></a><a class="code" href="structdvbcodec_1_1Section_1_1definition.html#a1">00156</a>         <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#a1">start</a>()<span class="keyword"> const</span>
00157 <span class="keyword">        </span>{
00158             <span class="keywordflow">return</span> <a class="code" href="structdvbcodec_1_1Section_1_1definition.html#o0">section_</a>;
00159         }
00160     };
00161     
<a name="l00162"></a><a class="code" href="structdvbcodec_1_1Section.html#o0">00162</a>     Actions &amp; <a class="code" href="structdvbcodec_1_1Section.html#o0">actions_</a>;
00163 };
00164 
00165 } <span class="comment">// namespace dvbcodec</span>
00166 
00167 <span class="preprocessor">#endif </span><span class="comment">/* defined SECTION_HPP_INCLUDED */</span>
00168 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Fri Nov 26 15:31:03 2004 for DVB Codec by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
