<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="icon" href="/images/favicon.png" type="image/png"/>
<link href="/styles/application.css" media="all" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/scripts/prettify.js"></script>
<script type="text/javascript" src="/scripts/lang-lisp.js"></script>
<script type="text/javascript" src="http://www.haloscan.com/load/wordaligned"></script>

<title>Your computer might be at risk</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="author" content="Thomas Guest" />
<meta name="description" content="A hard drive failed this weekend. Guess what, it hadn't been backed up. Here's how I went about recovering the data, and some thoughts on the future of computing in general and operating systems in particular. A Word Aligned article posted 2008-11-17, tagged Windows, Bugs." />
<meta name="keywords" content="Windows, Bugs" />
<link rel="alternate" type="application/rss+xml" title="Feed" href="http://feeds.wordaligned.org/wordaligned" />
</head>

<body onload="prettyPrint()">
<div id="container">
  <div id="header">
<h1><span><a accesskey="h" href="/">Word Aligned</a></span></h1>
<h2>tales from the code face</h2>
<a class="button" href="http://feeds.wordaligned.org/wordaligned" title="Subscribe to Word Aligned"><img style="float: right;" src="/images/feed.png" alt="Feed Logo" height="28" width="28"/></a>
</div>

  <div id="page">
    <div id="content">
      <div class="atomentry" id="your-computer-might-be-at-risk">
<h2 class="title"><a href="/articles/your-computer-might-be-at-risk">Your computer might be at risk</a></h2>
<p class="meta"><abbr class="published" title="2008-11-17">2008-11-17</abbr> &bull; <a href="/tag/windows" rel="tag">Windows</a>, <a href="/tag/bugs" rel="tag">Bugs</a> &bull; <a href="/articles/your-computer-might-be-at-risk#disqus_thread">Comments</a></p>
<blockquote>
<p>I dislike all three major OS &#8212; Windows, Mac, Linux.</p>
<p>&#8212; <a href="http://www.stifflog.com/2006/10/16/stiff-asks-great-programmers-answer/">Peter Norvig, Stifflog interview</a></p>
</blockquote>
<p>Although I write software for a living and write about writing software in my spare time, I don&#8217;t like computers much. I&#8217;m not afraid of them. I&#8217;m not completely incompetent at operating them. They just don&#8217;t behave the way I&#8217;d like. Here&#8217;s an example.</p>
<h3 id="hard-drive-failure">Hard drive failure</h3>
<p>The family computer wouldn&#8217;t boot. Instead it came up with white text on a blue screen listing register contents in hex. A hardware check confirmed my fears: <a href="http://www.google.com/search?q=error+code+7">Error Code 7</a>, hard drive failure.</p>
<p>This was irritating but not so very surprising: it&#8217;s an aging computer which had been running Windows XP progressively more and more slowly, and which was almost exclusively used by the kids for playing games on. On more than one occasion it had frozen and needed a hard reboot. What&#8217;s more saddening but also not so very surprising is that our domestic backup policy isn&#8217;t as good as it should be. There were some files on the dead drive we wanted to recover.</p>
<p>And even though Gail and I each have our own laptops, it soon became apparent how important a part of family life the defunct desktop was. Our children enjoy playing computer games. They like to watch <a href="http://www.bbc.co.uk/merlin/">Merlin on iPlayer</a>. We needed their machine back.</p>
<p>Fortunately I had a laptop and internet access. After hunting through shelves and drawers I reckoned I could get my hands on most of the original install media. It didn&#8217;t take long to come up with a recovery strategy.</p>
<p><span id="continue-reading"/></p>
<h3 id="recovery-strategy">Recovery strategy</h3>
<p><a href="http://www.getdigital.de/products/Any_Key"><img style="float:right;" src="http://www.getdigital.de/images/produkte/t2/t2_anykey.jpg" alt="Any Key"/></a></p>
<p>The plan was:</p>
<ol>
<li>disconnect the dead drive</li>
<li>connect a new drive</li>
<li>install Windows on the new drive</li>
<li>reconnect the dead drive</li>
<li>boot Windows from the new drive</li>
<li>try and recover files from the dead drive</li>
</ol>
<p>This article is <strong>not</strong> meant to be a tutorial on recovering from hard drive failures &#8212; if that&#8217;s what you&#8217;re after, the sanest source of information I found was this <a href="http://forums.techarena.in/windows-xp-support/730578.htm#post2775674">forum post by Patrick Keenan</a> &#8212; but I do want to stress here that when you get to stage 5 you should <strong>not</strong> allow windows to run a disk check on the dead drive, which is what it defaults to doing. </p>
<p>Be ready to skip the check by pressing the Any Key!</p>
<h3 id="free-file-recovery-software">&#8220;Free&#8221; file recovery software</h3>
<p>The first few stages of this plan were tedious but straightforward. I nursed the machine through the Windows XP installation onto a new drive. Since the desktop was designed to accommodate a second hard drive, slotting in the dead drive alongside the new one was idiot-proof. One minor wrinkle: the system didn&#8217;t automatically register the new drive. I had to press F12 to interrupt the boot sequence, enter the BIOS and explicitly enable the drive. By now, I felt quite comfortable with the BIOS screens: this stuff works!</p>
<p>On reboot I skipped the default disk check, as mentioned. My hope was that the physical memory on the dead drive could still be read and that some lower level file reader utility could patch together enough of the file-system for me to recover what I needed. By the way, at this point the PC had no network access. Evidently Windows XP hadn&#8217;t installed a driver for the wireless PCI card. Fortunately the USB ports were functional, so I could download software on the laptop and transfer it to the desktop.</p>
<p>I wasn&#8217;t prepared to pay for any file recovery software (yet). The value of the lost files wasn&#8217;t that high, especially if I couldn&#8217;t get them back. Surely I could <a href="http://www.google.com/search?q=free+hard+drive+recovery+software">find some freeware</a>? I took a couple of wrong turnings here and ended up feeling rather gullible. The top few search hits led me to software I could download and demo for free, which claimed they could do the job, but which I&#8217;d have to pay to use.</p>
<p><a href="http://www.diskinternals.com/products/ntfs-reader/">DiskInternals NTFS Reader</a> turned out to be what I was looking for. I&#8217;m sure there are others. Happily I&#8217;d soon managed to locate and recover the files we wanted, and could disconnect the faulty drive. Phew!</p>
<h3 id="restoring-the-machine">Restoring the machine</h3>
<p>Restoring the files was one thing. Next I needed to restore the machine itself to full functionality. The screen resolution wasn&#8217;t right. Screen repaints were jaggy. It couldn&#8217;t access the internet. There was no sound (apart from an annoying system beep). Etc. etc. </p>
<p>What&#8217;s going on here? I&#8217;m running a licensed copy of the world&#8217;s most popular operating system on hardware purchased from the world&#8217;s best known PC dealer, not some bleeding edge Linux distribution. Surely it should just work!</p>
<p>Hobbyists may delight in tinkering and fixing computers. Not me. I&#8217;m not  clueless, though, and I did realise that what I needed to do was keep downloading and installing drivers until everything behaved. It would have been nice if the system had been a little more self aware, though. Why couldn&#8217;t it tell me why it wasn&#8217;t working? Why couldn&#8217;t it at least provide a hardware manifest in some standard format?</p>
<p>I won&#8217;t bore you with the details of what followed. You don&#8217;t need me to tell you about the repeated reboots, broken download links, quirky installers; like me, you&#8217;ll be immune to the screenfuls of THREATENING LEGAL MUMBO JUMBO YOU HAVE TO AGREE TO. But I do want to highlight a couple of egregious examples of what I&#8217;m talking about.</p>
<h3 id="netgear-wireless-pci-card">Netgear Wireless PCI card</h3>
<p>I had the original install media for the wireless PCI card, and this got the machine connected to the internet. I didn&#8217;t just have to reboot to complete the installation, though, I also needed to physically remove the card and reseat it halfway through the process. Good job the PC chassis was already open. As if all this wasn&#8217;t bad enough, I also had to bypass a grim warning from Windows XP about destabilizing my system. Lovely!</p>
<p><img src="/images/install-netgear-warning.png" alt="Netgear WG311 install warnings"/></p>
<p><a href="http://www.flickr.com/photos/thomasguest/2807550653/" title="alex-rant by Thomas Guest, on Flickr"><img style="float:right;" src="http://farm4.static.flickr.com/3112/2807550653_43ac2d3d2f_m.jpg" width="202" height="240" alt="alex-rant" /></a></p>
<p>Then I discovered wireless internet access only worked for system administrators, a level of privilege no one should really need to run at. <a href="http://www.velocityreviews.com/forums/t4522-no-limited-account-connectivity-netgear-wg311twg624t.html">Googling the problem</a> suggested I was not alone. So I downloaded the latest drivers, uninstalled the original version, reinstalled the new (power off, remove the old card, power on, install software, power off, insert card, power on, finish installing the software) only to find the driver problems still had not been fixed!</p>
<p>To work around the problem I had to follow the install procedure for a third time, in this case <strong>not</strong> clicking through the recommended path, but rather allowing the Windows network connection manager to run the wireless service. Even then I had to stop the Netgear software from auto-starting.</p>
<p>Grrrr!!</p>
<h3 id="flash-install-problems">Flash install problems</h3>
<p>The kids like playing Adobe Flash games so I installed the Flash browser plugin. Well, I tried. Apparently I&#8217;d run out of disk space.</p>
<p><a href="http://bugs.adobe.com/jira/browse/FP-907"><img src="/images/install-flash-bug.png" alt="Install Flash bug"/></a></p>
<p>An alarming message, considering H:\WINDOWS\system32 was a directory on my brand new, unpartitioned and almost empty 500 GB hard drive! A little more googling revealed that <a href="http://bugs.adobe.com/jira/browse/FP-907">the Flash installer actually required the presence of a C: drive</a>. After mounting a USB flash drive and fiddling about with the control panel to remap drive labels, I managed to get Flash plugged in.</p>
<p>Unfunnily enough, I recently faced a similar but less tractable issue at work, trying to get the Flash plugin working on a Red Hat Linux box. Why should running Flash require me to upgrade libc!?</p>
<h3 id="the-antivirus-racket">The antivirus racket</h3>
<p>Checklist:</p>
<ul>
<li>Hardware happy? &#x2713;</li>
<li>Software happy? &#x2713;</li>
<li>Computer happy? &#x2718;</li>
</ul>
<p>Despite the clean install of properly licensed software on a new hard drive, <strong>Your computer might be at risk</strong>. Clicking the balloon to fix the problem directs me to the Microsoft antivirus partners page, where plenty of companies will be happy to help &#8212; at a price, that is.</p>
<p><img src="/images/antivirus-balloon.png" alt="Antivirus Balloon"/><a href="http://www.flickr.com/photos/thomasguest/3027199004/" title="antivirus-partners by Thomas Guest, on Flickr"><img src="http://farm4.static.flickr.com/3283/3027199004_581f3bf8d6_m.jpg" width="240" height="158" alt="antivirus-partners" /></a></p>
<p>This, I think, is the final straw. I&#8217;m no longer willing to play along with this racket. The antivirus software <strong>is itself a virus</strong>, a virus carried by my reconstructed computer from the moment I installed Windows; and clicking the threatening balloon will only make things worse. In the computer&#8217;s former life, I installed some free antivirus software which turned out to be <span id="excerpt0"/>free as in free beer, not free as in without cost. It soaked up resources, hammered the hard drive mercilessly, and was forever interrupting me, cajoling and wheedling me to upgrade to the professional edition.</p>
<h3 id="you-idiot">You idiot!</h3>
<p>As a software professional I should know better. I should know better than run Windows. I should know about security. I should know about backups. I had a lucky escape, and I&#8217;ll admit, I was lazy, but the truth is this kind of thing happens to computer users &#8212; both professional and amateur &#8212; all the time, and many have been burned far worse than me. I think the model of standalone computers with their own hard drives running their own operating system is all wrong, and bolting on an external hard-drive and some backup software doesn&#8217;t make it all right.</p>
<h3 id="alternatives">Alternatives</h3>
<p>Right now, I&#8217;m not inspired to go out and buy another computer plus the additional hardware and software required to make the house a secure and safe place for computing. It&#8217;s a home, not a server farm!</p>
<p>Yes, if we went the Apple route and purchased hardware and software in beautiful (but expensive!) self-contained packages the driver problems ought to disappear and <a href="http://www.apple.com/macosx/features/timemachine.html">time machine</a> would allow me to chase backwards and recover anything and everything. I&#8217;ll admit I&#8217;m tempted, but I have my concerns about vendor lock-in: if being tied to a software application is bad, being tied to a platform is worse. And yes, if we went the Ubuntu route I don&#8217;t think we&#8217;d be troubled by the antivirus protection racket but I suspect I&#8217;d still end up grubbing round for drivers, possibly with even less success, and I&#8217;m sure it wouldn&#8217;t be such a good games platform.</p>
<p><a href="http://norvig.com" title="Peter Norvig's homepage"><img style="float:right;" alt="Picture of Peter Norvig" src="http://pn.smugmug.com/photos/343788298_VRnZs-S.jpg"/></a></p>
<p>In an <a href="http://www.stifflog.com/2006/10/16/stiff-asks-great-programmers-answer/">interview on stifflog</a> a number of well known programmers answer questions about their favourite tools (operating systems, languages, editors etc.) I sympathise with Peter Norvig&#8217;s rather negative answer.</p>
<blockquote>
<p>&#8220;I dislike all three major OS &#8212; Windows, Mac, Linux. I like Python and Lisp. Emacs.&#8221;</p>
</blockquote>
<p>Personally, I prefer the model of computing as a service, a service you connect to from a variety of devices in a variety of locations. I don&#8217;t really care where exactly my data is &#8212; I just want (secure) access to it, wherever, whenever. I don&#8217;t want a house full of wires and hard drives. Backup should be transparent to me as a user, and it should be straightforward for service providers to implement: bytes are easy to replicate and transmit, to distribute, and there are economies of scale. (For what it&#8217;s worth, my personal backup strategy, based around <a href="http://diveintomark.org/archives/2008/11/03/the-pursuit-of-happiness">travelling light</a>, internet access, version control, cron and rysnc, does what it can to emulate this model, but it certainly isn&#8217;t for everyone.)</p>
<p>I don&#8217;t think this a Utopian view and I certainly don&#8217;t claim it&#8217;s original: computing has been gradually moving in this direction for some time now. Perhaps, though, we should refuse to accept the dystopia we&#8217;re currently living with.</p>
<h3 id="the-future-of-operating-systems">The future of operating systems</h3>
<p>You&#8217;ll have to look hard for an honest and open insider&#8217;s assessment of the state of Mac and Windows, but the Unix community have always been quick to acknowledge design limitations. In an <a href="http://interviews.slashdot.org/article.pl?sid=04/10/18/1153211&amp;tid=189&amp;tid=156&amp;tid=130&amp;tid=11">interview on Slashdot, Rob Pike explains</a> how weak the Unix design has become in the networked world we live in.</p>
<blockquote>
<p>The major things we saw wrong with Unix [&#8230;] back around 1985, all stemmed from the appearance of a network. As a stand-alone system, Unix was pretty good. But when you networked Unix machines together, you got a network of stand-alone systems instead of a seamless, integrated networked system. Instead of one big file system, one user community, one secure setup uniting your network of machines, you had a hodgepodge of workarounds to Unix&#8217;s fundamental design decision that each machine is self-sufficient.</p>
<p>We really are using a 1970s era operating system well past its sell-by date. We get a lot done, and we have fun, but let&#8217;s face it, the fundamental design of Unix is older than many of the readers of Slashdot, while lots of different, great ideas about computing and networks have been developed in the last 30 years. Using Unix is the computing equivalent of listening only to music by David Cassidy. </p>
</blockquote>
<p>Earlier in the same interview, Rob Pike clears up a misconception. Although he co-authored a book on about Unix, he cannot take credit for its creation.</p>
<blockquote>
<p>Ken Thompson and Dennis Ritchie created Unix and deserve all the credit, and more.</p>
</blockquote>
<p>Which leads us from Slashdot to Google, the computing equivalent of listening to, say, the <a href="http://www.whitestripes.com">White Stripes</a>. On the <a href="http://moderator.appspot.com/#15/e=c9&amp;t=2d&amp;q=8e64&amp;v=4">Ask a Google engineer</a> forum, Jeff B from Woodstock GA asks a leading question.</p>
<blockquote>
<p>I believe the future of operating systems is a &#8220;Cloud OS.&#8221; Do you agree?</p>
</blockquote>
<p><a href="http://en.wikipedia.org/wiki/Ken_Thompson">Ken Thompson</a> from Mountain View CA responds.</p>
<blockquote>
<p>yes</p>
</blockquote>
<h3 id="back-in-the-present">Back in the present</h3>
<p><a href="http://www.gifford.co.uk/~coredump/oldsad.htm"><img style="float:right;" src="http://www.gifford.co.uk/~coredump/zx81_1.jpg" alt="Old sad ZX81"/></a></p>
<p>Ironically, the remade computer is actually tolerable to use at present. It boots in seconds, has decent peripherals, and (at last!) carries no <a href="http://en.wikipedia.org/wiki/Crapware">craplets</a>. Having spent a few hours getting to know it, from BIOS, through driver, to control panel, I&#8217;m on better terms with it than ever before. Maybe it&#8217;s not such an <a href="http://www.gifford.co.uk/~coredump/oldsad.htm">old sad thing</a> after all.</p>
</div>


      
<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://wordaligned.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<script id="dsq-count-scr" src="//wordaligned.disqus.com/count.js" async></script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
    <div id="sidebar">
      <div class="sidebar-node">
<h3>Excerpt</h3>
<p><a href="#excerpt0">Free as in free beer, not free as in without cost.</a></p>

</div>

<div class="sidebar-node">
<h3>Tagged</h3>
<ul id="categories"><li><a href="/tag/windows" rel="tag">Windows</a></li>
<li><a href="/tag/bugs" rel="tag">Bugs</a></li></ul>

</div>

<div class="sidebar-node">
<h3>Chain</h3>
<ul>
<li><a accesskey="n" href="/articles/code-samples" title="Next article">&laquo; Books, blogs, comments and code samples</a></li>
<li><a accesskey="p" href="/articles/negative-captain" title="Previous article">&raquo; Negative, Captain</a></li>
</ul>


</div>

<div class="sidebar-node">
<h3>Feeds</h3>

<ul>
<li><a href="http://feeds.wordaligned.org/wordaligned"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Articles</a></li>
<li><a href="http://feeds.wordaligned.org/wordaligned/comments"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Comments</a></li>
</ul>


</div>

    </div>
  </div>
  <div id="footer">
<hr />
<p><a href="http://tag.wordaligned.org">Thomas Guest</a></p>
</div>

</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3373724-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();
</script>
</body>

</html>
