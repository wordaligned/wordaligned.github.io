<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="icon" href="/images/favicon.png" type="image/png"/>
<link href="/styles/application.css" media="all" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/scripts/prettify.js"></script>
<script type="text/javascript" src="/scripts/lang-lisp.js"></script>
<title>Folded files and rainbow code</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="author" content="Thomas Guest" />
<meta name="description" content="A Word Aligned article posted 2013-01-23, tagged Editors, Syntax." />
<meta name="keywords" content="Editors, Syntax" />
<link rel="alternate" type="application/rss+xml" title="Feed" href="http://feeds.wordaligned.org/wordaligned" />
</head>

<body onload="prettyPrint()">
<div id="container">
  <div id="header">
<h1><span><a accesskey="h" href="/">Word Aligned</a></span></h1>
<h2>tales from the code face</h2>
<a class="button" href="http://feeds.wordaligned.org/wordaligned" title="Subscribe to Word Aligned"><img style="float: right;" src="/images/feed.png" alt="Feed Logo" height="28" width="28"/></a>
</div>

  <div id="page">
    <div id="content">
      <div class="atomentry" id="folded-files-and-rainbow-code.html">
<h2 class="title"><a href="/articles/folded-files-and-rainbow-code.html">Folded files and rainbow code</a></h2>
<p class="meta"><abbr class="published" title="2013-01-23">2013-01-23</abbr> &bull; <a href="/tag/editors" rel="tag">Editors</a>, <a href="/tag/syntax" rel="tag">Syntax</a> &bull; <a href="/articles/folded-files-and-rainbow-code.html#disqus_thread">Comments</a></p>
<p>In one of my first programming jobs I worked at a software house which grew its own tools. We had a home made version control system, build system, test harness and programming language. We even had our own editor!
</p>
<p>The language was C, lightly extended to support the primitive types of our particular problem domain. The editor was more esoteric. You drove it using the numeric keypad and it modeled source code as nested blocks:
</p>
<ul><li>files contained blocks of:</li>
<ul><li>includes</li>
<li>documentation</li>
<li>data</li>
<li>functions</li></ul>
<li>functions contained groups of:</li>
<ul><li>parameters:</li>
<ul><li>in parameters</li>
<li>out parameters</li></ul>
<li>initialisation blocks</li>
<li>assertions</li>
<li>code blocks</li>
<li>loops</li>
<li>machine dependent sections</li>
<li>returns</li></ul></ul>

<p>The editor facilitated navigation of this nested structure, with keypresses to <a href="http://en.wikipedia.org/wiki/Code_folding">fold and unfold</a>.
</p>
<p>You don&#8217;t need to write your own editor to get the benefits of code folding: most editors support it to some degree. With this particular editor, however, folding reached its apotheosis. You could crimp and tuck and pleat, nesting layer upon layer within a single source file.
</p>
<p><a href="http://www.flickr.com/photos/cobbphoto/4534419314/" title="Origami Dragon by g cobb, on Flickr"><img src="http://farm5.staticflickr.com/4001/4534419314_705521d064.jpg" width="500" height="334" alt="Origami Dragon"></a>
</p>
<span id="continue-reading"/>

<p>The house editor wasn&#8217;t mandated but the fold tokens it automatically placed in special comments made it challenging to work with anything else <a id="fn1link" href="#fn1"><sup>[1]</sup></a>. 
</p>
<p>Folding made it easy to work with large files and long, complex functions. Looking back, I&#8217;d say it made it <strong>too</strong> easy &#8212; I&#8217;ve come to prefer other ways of organising code &#8212; but at the time I saw things differently. We all did. What interests me now is the effect an editor has on the shape of your code.
</p>
<p>A wide editing pane renders long lines comfortably. Code completion makes forgettable names workable. Smart indentation keeps your code legal even as you type. Cut and paste allows you to replicate an existing function and tweak it for a new use case. Undo, redo and autosave are like version control made simple.
</p>
<p>The folding editor failed to seduce everyone. One colleague grumbled it lacked syntax highlighting. Well, it probably came from an age before coloured pixels, and, similarly dated, at the time, I couldn&#8217;t see the need.
</p>
<p>These days I find it hard to operate without syntax highlighting: code doesn&#8217;t even look like code if imports, literals, comments etc. aren&#8217;t visually distinct. Yet there are <a href="http://en.wikipedia.org/wiki/Rob_Pike">elite programmers</a> who write their own programming languages using their <a href="http://acme.cat-v.org/faq">own editors</a> who find syntax highlighting a distraction.
</p>
<iframe width="500" height="281" src="http://www.youtube.com/embed/dP1xVpMPn8M?rel=0" frameborder="0" allowfullscreen></iframe>

<p>Walking round the office where I work I see a diversity of editors. There are split screens and floating windows, stacked up toolbars, icons piled high. Helicopter views expose the jagged outlines of source code seen from a distance. Lenses zoom in on regions of interest. Tokens glow like plankton in deep sea colour schemes.
</p>
<p><a href="http://www.flickr.com/photos/76798465@N00/4169369269/" title="More phytoplankton zooplankton by willapalens, on Flickr"><img src="http://farm3.staticflickr.com/2663/4169369269_ac9a8bf641.jpg" width="500" height="375" alt="More phytoplankton zooplankton"></a>
</p>
<p>It&#8217;s good practice to develop code on multiple platforms even if your product targets just one. Different compilers and hardware exercise your software in different ways, making it resilient and portable. I wonder too if multiple editors scrutinize your software from different perspectives, keeping it flexible and clean.
</p>
<p style="text-align:center">&sect;</p>

<p>My thanks to <a href="http://www.flickr.com/photos/cobbphoto">Gary Cobb</a> for permission to use his origami dragon snap, and to <a href="http://www.flickr.com/photos/76798465@N00">willapalens</a> for the plankton. The video clip is by <a href="http://swtch.com/~rsc">Russ Cox</a>, acme fanatic and <a href="http://golang.org">go developer</a>.
</p>
<p><hr />
   <a id="fn1" href="#fn1link">[1]</a>: Programmers relish challenges and one seasoned emacs user had put together an emacs mode to cope with the folds.
</p>
</div>

<div class="comments"><hr/><div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/wordaligned/embed.js"></script></div>
      
<div id="comments"><script type="text/javascript">
//<![CDATA[
(function() {
    var links = document.getElementsByTagName('a');
    var query = '?';
    for(var i = 0; i < links.length; i++) {
        if(links[i].href.indexOf('#disqus_thread') >= 0) {
            query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&amp;';
        }
    }
    document.write('<script type="text/javascript" src="http://disqus.com/forums/wordaligned/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script></div>

    </div>
    <div id="sidebar">
      
<div class="sidebar-node">
<h3>Tagged</h3>
<ul id="categories"><li><a href="/tag/editors" rel="tag">Editors</a></li>
<li><a href="/tag/syntax" rel="tag">Syntax</a></li></ul>

</div>

<div class="sidebar-node">
<h3>Chain</h3>
<ul>
<li><a accesskey="n" href="/articles/singly-linked-lists-in-c++.html" title="Next article">&laquo; Singly Linked Lists in C++</a></li>
<li><a accesskey="p" href="/articles/c++-concurrency-in-action.html" title="Previous article">&raquo; C++ Concurrency in Action</a></li>
</ul>


</div>

<div class="sidebar-node">
<h3>Feeds</h3>

<ul>
<li><a href="http://feeds.wordaligned.org/wordaligned"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Articles</a></li>
<li><a href="http://feeds.wordaligned.org/wordaligned/comments"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Comments</a></li>
</ul>


</div>

    </div>
  </div>
  <div id="footer">
<hr />
<p><a href="http://tag.wordaligned.org">Thomas Guest</a></p>
</div>

</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3373724-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();
</script>
</body>

</html>
