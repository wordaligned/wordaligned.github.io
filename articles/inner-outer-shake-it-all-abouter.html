<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="icon" href="/images/favicon.png" type="image/png"/>
<link href="/styles/application.css" media="all" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/scripts/prettify.js"></script>
<script type="text/javascript" src="/scripts/lang-lisp.js"></script>
<title>Inner, Outer, Shake it all abouter</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="author" content="Thomas Guest" />
<meta name="description" content="Encapsulation is about allocating responsibility and easing utility rather than protecting data. A Word Aligned article posted 2009-07-29, tagged C++, Python, ACCU." />
<meta name="keywords" content="C++, Python, ACCU" />
<link rel="alternate" type="application/rss+xml" title="Feed" href="http://feeds.wordaligned.org/wordaligned" />
</head>

<body onload="prettyPrint()">
<div id="container">
  <div id="header">
<h1><span><a accesskey="h" href="/">Word Aligned</a></span></h1>
<h2>sweating the small stuff</h2>
<a class="button" href="http://feeds.wordaligned.org/wordaligned" title="Subscribe to Word Aligned"><img style="float: right;" src="/images/feed.png" alt="Feed Logo" height="28" width="28"/></a>
</div>

  <div id="page">
    <div id="content">
      <div class="atomentry" id="inner-outer-shake-it-all-abouter">
<h2 class="title"><a href="/articles/inner-outer-shake-it-all-abouter">Inner, Outer, Shake it all abouter</a></h2>
<p class="meta"><abbr class="published" title="2009-07-29">2009-07-29</abbr> &bull; <a href="/tag/c++" rel="tag">C++</a>, <a href="/tag/python" rel="tag">Python</a>, <a href="/tag/accu" rel="tag">ACCU</a> &bull; <a href="/articles/inner-outer-shake-it-all-abouter#disqus_thread">Comments</a></p>
<p>C++ programmers enjoy three levels of access control: <a href="http://www.parashift.com/c++-faq-lite/basics-of-inheritance.html#faq-19.5">private, protected and public</a>. Some programmers use protected instead of private just in case someone might want to derive from their class some day. Others keep everything as private as possible, hiding nested classes in anonymous namespaces; these inner classes never seem to work quite the way you&#8217;d want, but if you get tangled up a <a href="http://www.parashift.com/c++-faq-lite/friends.html">friend</a> can cut through the knots!</p>
<p>Python is less sophisticated. Prefix class members with a double underscore and <a href="http://docs.python.org/tutorial/classes.html#private-variables">their names are disguised</a> to the world outside. Prefix module members with a single underscore to indicate they won&#8217;t be exported from that module. Many Python programmers use single underscore prefix in classes too (no mangling but better looking).</p>
<p><a href="http://accu.org"><img style="float:right" src="http://accu.org/content/images/buttonl_120x60.gif" width="120px" alt="ACCU Button" height="60px"/></a></p>
<p>Once you&#8217;ve used Python for a while you may well question the benefits of the C++ model. Recently a C++ question came up on the <a href="http://accu.org/index.php/mailinglists">accu-general</a> mailing list. It involved nested classes, <code>operator&lt;&lt;()</code> and code which refused to compile. You&#8217;ll have to trawl through the list archives if you want the exact question: I didn&#8217;t give it much attention since it seemed an example of the kind of struggle with the language which causes me to throw in the towel. I would like to quote from one of the answers though.</p>
<blockquote>
<p>Surely your issue is that f() is a friend of Inner only. f() is <b>not</b> a friend of Outer. Inner is private to Outer. Therefore in the global scope, outside Outer, f() cannot access Inner via Outer::Inner, as that is private.</p>
</blockquote>
<p>Wow, some <a href="http://yosefk.com/c++fqa/class.html#fqa-7.7" title="#define private public from the C++ FQA">brain twister</a>!</p>
<p><a href="http://www.kleinbottle.com"><img src="http://www.kleinbottle.com/images/giantKleinbotandCliff2.jpg" alt="Giant Klein bottle and Cliff Stoll" width="240px" height="461px"/></a></p>
<p>Time to get back to basics.</p>
<blockquote>
<p>Encapsulation is about allocating responsibility and easing utility rather than protecting data, which is a side effect. &#8212; <a href="http://twitter.com/KevlinHenney/status/2684963420">@KevlinHenney</a></p>
</blockquote>
<p style="text-align:center">&sect;</p>

<p>My thanks to <a href="http://libjmmcg.sourceforge.net">Jason McGuiness</a> for allowing me to quote from his expert answer to a tricky C++ question. The photo shows Cliff Stoll holding the world&#8217;s largest glass klein bottle, which was produced by the company he owns, operates and mismanages, <a href="http://www.kleinbottle.com">Acme Klein Bottles</a>. Klein bottles get a mention here because they don&#8217;t have an outside or an inside, they just have a side. You can solve every computing problem with an extra dimension, except the problem of too many dimensions.</p>
</div>

<div class="comments"><hr/><div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/wordaligned/embed.js"></script></div>
      
<div id="comments"><script type="text/javascript">
//<![CDATA[
(function() {
    var links = document.getElementsByTagName('a');
    var query = '?';
    for(var i = 0; i < links.length; i++) {
        if(links[i].href.indexOf('#disqus_thread') >= 0) {
            query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&amp;';
        }
    }
    document.write('<script type="text/javascript" src="http://disqus.com/forums/wordaligned/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script></div>

    </div>
    <div id="sidebar">
      
<div class="sidebar-node">
<h3>Tagged</h3>
<ul id="categories"><li><a href="/tag/c++" rel="tag">C++</a></li>
<li><a href="/tag/python" rel="tag">Python</a></li>
<li><a href="/tag/accu" rel="tag">ACCU</a></li></ul>

</div>

<div class="sidebar-node">
<h3>Chain</h3>
<ul>
<li><a accesskey="n" href="/articles/integer-literal-values" title="Next article">&laquo; Converting integer literals in C++ and Python</a></li>
<li><a accesskey="p" href="/articles/python-counters" title="Previous article">&raquo; Blackmail made easy using Python counters</a></li>
</ul>


</div>

<div class="sidebar-node">
<h3>Feeds</h3>

<ul>
<li><a href="http://feeds.wordaligned.org/wordaligned"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Articles</a></li>
<li><a href="http://feeds.wordaligned.org/wordaligned/comments"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Comments</a></li>
</ul>


</div>

    </div>
  </div>
  <div id="footer">
<hr />
<p><a href="http://tag.wordaligned.org">Thomas Guest</a></p>
</div>

</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3373724-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();
</script>
</body>

</html>
