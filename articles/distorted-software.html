<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="icon" href="/images/favicon.png" type="image/png"/>
<link href="/styles/application.css" media="all" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/scripts/prettify.js"></script>
<script type="text/javascript" src="/scripts/lang-lisp.js"></script>
<script type="text/javascript" src="http://www.haloscan.com/load/wordaligned"></script>

<title>Distorted Software</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="author" content="Thomas Guest" />
<meta name="description" content="What does software look like? This article suggests that architecture diagrams get the emphasis wrong. A Word Aligned article posted 2008-07-23, tagged Self, Drawing." />
<meta name="keywords" content="Self, Drawing" />
<link rel="alternate" type="application/rss+xml" title="Feed" href="https://feeds.wordaligned.org/wordaligned" />
</head>

<body onload="prettyPrint()">
<div id="container">
  <div id="header">
<h1><span><a accesskey="h" href="/">Word Aligned</a></span></h1>
<h2>whatsoever I do, it&#8217;s got to be funky</h2>
<a class="button" href="https://feeds.wordaligned.org/wordaligned" title="Subscribe to Word Aligned"><img style="float: right;" src="/images/feed.png" alt="Feed Logo" height="28" width="28"/></a>
</div>

  <div id="page">
    <div id="content">
      <div class="atomentry" id="distorted-software">
<h2 class="title"><a href="/articles/distorted-software">Distorted Software</a></h2>
<p class="meta"><abbr class="published" title="2008-07-23">2008-07-23</abbr> &bull; <a href="/tag/self" rel="tag">Self</a>, <a href="/tag/drawing" rel="tag">Drawing</a> &bull; <a href="/articles/distorted-software#disqus_thread">Comments</a></p>
<p><a href="http://piclib.nhm.ac.uk/results.asp?image=041490" title="Sensory homunculus"><img src="/images/sensory-homunculus.jpg" alt="Sensory homunculus"/></a></p>
<h3 id="helicopter-view">Helicopter View</h3>
<p>Recently I&#8217;ve been helping scope a project to develop a new Product. In an Agile world <a href="http://c2.com/xp/BigDesignUpFront.html">big design up front</a> may be frowned-upon, but commercial reality requires some idea of costs from the outset. You need to plan, to size up the job. You must somehow answer the question: <strong>What will the software for this Product look like?</strong></p>
<p><a href="http://www.google.com/enterprise/gsa/"><img src="http://www.google.co.uk/enterprise/gsa/images/GSA_beautyshot.jpg" alt="Google search appliance, with funky yellow chassis"/></a></p>
<p>I don&#8217;t mean &#8220;What does the UI look like?&#8221; any more than I mean &#8220;Will it have a funky yellow chassis?&#8221; or even &#8220;What will <a href="http://vis.cs.ucdavis.edu/~ogawa/codeswarm/">source tree look like</a>?&#8221;. </p>
<object width="400" height="302"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="http://www.vimeo.com/moogaloop.swf?clip_id=1093745&amp;server=www.vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" /><embed src="http://www.vimeo.com/moogaloop.swf?clip_id=1093745&amp;server=www.vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="400" height="302"></embed></object>

<p>I&#8217;m talking about something less easy to visualise:</p>
<ul>
<li>what will the main components be?</li>
<li>how do they connect?</li>
<li>how big are they?</li>
</ul>
<p>So, what exactly does a database look like? How about a web server? Or a message queue? A state machine?</p>
<p><span id="continue-reading"/></p>
<h3 id="quick-pictures">Quick pictures</h3>
<p>I have my own shorthand for depicting all of these things. I&#8217;m aware of more formal visual languages which aim to define software designs for programmers, much as circuit diagrams do for electricians, but I&#8217;ve resisted learning these languages. For me, the act of making the drawing is a large part of what the drawing communicates. A frozen snapshot only tells half the story.</p>
<p><img src="/images/pipe-and-onion.png" alt="Pipeline and Onion"/></p>
<p>For our planning exercise we needed a picture of the software. Something simple, archetypal even, like the Pipeline or the Onion, would have been nice, but a few hours at the whiteboard left us looking at something more typical, the Application.</p>
<p><img src="/images/application.png" alt="Application"/></p>
<p>As a basis for ongoing discussion and design this picture works. It&#8217;s expressive and flexible, and, by uniting my favourite drawing tools (pencil and paper/white board and marker) with my favourite digital imaging tools (a scanner/digital camera) and my favourite project management tool (a <a href="http://trac.edgewall.org">wiki</a>), we can create a visual record of the evolving design.</p>
<p>For planning purposes, though, such pictures can be dangerously misleading. If you want to know how many people you&#8217;ll need and how long it will take them, you&#8217;d be inclined to focus on the blocks &#8212; the closed shapes on the picture. Won&#8217;t the total effort just be the total area of all the blocks?</p>
<p><strong>No! It won&#8217;t.</strong></p>
<h3 id="dependencies">Dependencies</h3>
<p>For one thing, there&#8217;s the issue of dependencies: the UI depends on the Engine, which in turns depends on the Database, which needs a License Key, requiring a Signature, waiting on a Person, who&#8217;s on holiday etc. At this point the Project Manager steps in and turns our simple diagram into an ugly <a href="http://en.wikipedia.org/wiki/Gantt_chart">Gantt chart</a>.</p>
<p><a href="http://en.wikipedia.org/wiki/Gantt_chart"><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/GanttChartAnatomy.png/300px-GanttChartAnatomy.png" alt="Gant chart"/></a></p>
<p>I consider a Gantt chart a poor way to visualise a project. It&#8217;s brittle, complicated and expensive to maintain. Driving the associated planning software seems a black art. The only good thing about Gantt charts is a side-effect: generating one requires a bit of thought. You have to think how you&#8217;ll transform your Application design into a working Product. Maybe then, just maybe, you&#8217;ll realise the important tasks &#8212; the biggest horizontal bars on the chart &#8212; do not correspond directly to the block shapes on the picture.</p>
<h3 id="lines-and-arrows">Lines and Arrows</h3>
<p><img style="float:right;" width="30%" src="/images/application.png" alt="Application"/></p>
<p>Those slender lines and arrows on our Application diagram take time. The bulk of the work will not be developing the boxes, bubbles and circles; connecting them up might take as long again, or, more likely, ten times as long again. There are interfaces to design, protocols to code up, error conditions to handle. </p>
<p>Bugs in individual components are, by definition, easy to isolate, making them straightforward to squash. Combining these same components makes the defects harder to pin-down, let alone fix. It&#8217;s almost impossible to estimate the time required to fix integration issues.</p>
<p>The most dangerous mistake of all occurs when we already have some of the components, ready to pull down from the shelf. The argument goes: we have the Database, we have the Server, we can adapt the Engine, bolt on a new Interface, so the Product is nothing more than a software plumbing task. How long can it take?</p>
<h3 id="distorted-pictures">Distorted pictures</h3>
<p>I suggest the problem stems, in part, from using a design picture too literally<a id="fn1link" href="#fn1"><sup><a href="https://blog.codeship.com/building-minimal-docker-containers-for-go-applications/">1</a></sup></a> as a planning picture. We need a representation which distorts our original picture to properly emphasise interfaces, connections, protocols, integration.</p>
<p><img src="/images/tube-map-w.png" alt="Tube Map" style="align:top;"/><img style="align:top;" src="http://maps.google.com/staticmap?center=51.511048,-0.138819&amp;zoom=12&amp;size=250x300&amp;key=ABQIAAAA4XbHXQGTml12zwtM4CjICxTeGXmhp-edP41sIKC3sS2f11di4hR0EgBH_NoVBpYYYf9smXsm4QKQzw" alt="Central London Streetmap"/></p>
<p>The <a href="http://journeyplanner.tfl.gov.uk/im/SI-T.html">London Underground map</a> is one famous visual distortion. When you want to travel from, say, <a href="http://www.londontoolkit.com/whattodo/southkensingtonmuseums.htm">South Kensington</a> to <a href="http://en.wikipedia.org/wiki/Mornington_Crescent_(game)">Mornington Crescent</a>, you need to know which train to take, for how many stops, then which train to change to, and so on. That is: you care about topology rather than geography, and the tube map gets the emphasis right. A street map doesn&#8217;t help much and a visually accurate satellite photo would be almost useless.</p>
<p><img src="http://www.bbc.co.uk/london/content/images/2006/01/13/west_470x321.jpg" alt="Satellite Map of London"/></p>
<h3 id="sensory-homunculus">Sensory Homunculus</h3>
<p><a href="http://piclib.nhm.ac.uk/results.asp?image=041490" title="Sensory homunculus"><img width="40%" style="float:right" src="/images/sensory-homunculus.jpg" alt="Sensory homunculus"/></a></p>
<p>Another famous distortion, the <a href="http://en.wikipedia.org/wiki/Homunculus">sensory homunculus</a>, appears at the top of this page and in miniature here. The image is hosted by the <a href="http://piclib.nhm.ac.uk/results.asp?image=041490">Natural History Museum&#8217;s online picture library</a>, with the explanation:</p>
<blockquote>
<p>This model shows what a man&#8217;s body would look like if each part grew in proportion to the area of the cortex of the brain concerned with its sensory perception.</p>
</blockquote>
<p>Or, as <a href="http://en.wikipedia.org/wiki/Homunculus">Wikipedia</a> puts it:</p>
<blockquote>
<p>Well known in the field of neurology, this is also commonly called &#8216;the little man inside the brain.&#8217;</p>
</blockquote>
<h3 id="application-in-proportion">Application in Proportion</h3>
<p>So, what would our Application diagram look like if each component grew in proportion to the time taken to develop it? Maybe something like this:</p>
<p><img src="/images/distorted-application.png" alt="Distorted application"/></p>
<p>The sensory homunculus is striking because we&#8217;re all so highly attuned to what people really look like. The figure is instantly recognisable as human but the proportions diverge so radically from what we expect &#8212; from what we <em>know</em> &#8212; that we&#8217;re forced to look again. A simple image constructed by applying a logical rule can change the way we look at ourselves.</p>
<p>Having no such feelings for software, surely we can change our pictures to suit? </p>
<p>I don&#8217;t pretend this final picture, with its fat orange arrows, makes a great planning aid, but perhaps it may help us look afresh at our estimates.</p>
<hr />
<p>There are techniques to reduce the overheads and risks I discuss in this article, but I&#8217;ll save them for another time. Even if careful planning and execution can shrink the arrows down to a more comfortable size, I still maintain connections take longer than blocks. I would be interested to know of any software architecture diagrams which show this clearly.</p>
<p><a id="fn1" href="#fn1link"><a href="https://blog.codeship.com/building-minimal-docker-containers-for-go-applications/">1</a></a> Literally means &#8220;as read&#8221;. Its root meaning has to do with words and text. Is there an equivalent for &#8220;as seen&#8221;?</p>
</div>


      
<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://wordaligned.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<script id="dsq-count-scr" src="//wordaligned.disqus.com/count.js" async></script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
    <div id="sidebar">
      
<div class="sidebar-node">
<h3>Tagged</h3>
<ul id="categories"><li><a href="/tag/self" rel="tag">Self</a></li>
<li><a href="/tag/drawing" rel="tag">Drawing</a></li></ul>

</div>

<div class="sidebar-node">
<h3>Chain</h3>
<ul>
<li><a accesskey="n" href="/articles/iblame-exchange" title="Next article">&laquo; iBlame Exchange</a></li>
<li><a accesskey="p" href="/articles/tagwordalignedorg" title="Previous article">&raquo; tag.wordaligned.org</a></li>
</ul>


</div>

<div class="sidebar-node">
<h3>Feeds</h3>

<ul>
<li><a href="https://feeds.wordaligned.org/wordaligned"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Articles</a></li>
<li><a href="https://feeds.wordaligned.org/wordaligned/comments"><img src="/images/buttons/feed-icon-14x14.png" alt="feed icon"/> Comments</a></li>
</ul>


</div>

    </div>
  </div>
  <div id="footer">
<hr />
<p><a href="http://tag.wordaligned.org">Thomas Guest</a></p>
</div>

</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3373724-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();
</script>
</body>

</html>
